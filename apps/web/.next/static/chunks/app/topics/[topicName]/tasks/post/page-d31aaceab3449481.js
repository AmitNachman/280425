(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{803:(e,t,o)=>{Promise.resolve().then(o.bind(o,4856))},4856:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var a=o(4568),s=o(7620),n=o(2942),r=o(8556),c=o(3537),l=o(9715);let i=e=>{let t=["the","a","an","and","or","but","in","on","at","to","for","with","by","about","as","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","should","can","could","of","from","this","that","these","those"],o=e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>3&&!t.includes(e)),a={};for(let e of o)a[e]=(a[e]||0)+1;return Object.entries(a).sort((e,t)=>t[1]-e[1]).map(e=>e[0])},d=e=>{let t=e.replace(/-/g," "),o=t.split(" ").filter(e=>e.length>2),a=[];return[...new Set([...o,...t.includes("diplomacy")||t.includes("relation")?["international","negotiation","treaty","agreement","peace","allies","cooperation","mediation"]:t.includes("economy")||t.includes("entrepreneur")?["business","market","innovation","startup","investment","growth","industry","commerce"]:t.includes("innovation")||t.includes("technology")?["digital","research","development","startup","advancement","science","progress","future"]:t.includes("history")||t.includes("heritage")?["legacy","tradition","culture","ancient","historic","civilization","preservation","roots"]:t.includes("holocaust")||t.includes("revival")?["memory","survival","resilience","commemoration","trauma","healing","testimony","legacy"]:t.includes("society")||t.includes("culture")?["community","traditions","values","heritage","diversity","identity","customs","practices"]:["israel","israeli","jewish","society","community","culture","development","perspective"]])]},u=e=>{let t=e.replace(/-/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return"Today I want to discuss ".concat(t,", which is a fascinating aspect of Israeli society and culture.\n\nWhat do you find most interesting about ").concat(t,"? \n\nHow has ").concat(t," evolved over the years in Israel?")},h=e=>d(e).slice(0,5);function p(){let{isAuthenticated:e,isLoading:t,user:o}=(0,l.A)(),d=(0,n.useRouter)(),p=(0,n.useParams)(),m=(0,n.useSearchParams)(),g=null==p?void 0:p.topicName,x=(null==m?void 0:m.get("level"))||"1",y=null==m?void 0:m.get("taskId"),[f,b]=(0,s.useState)(""),[w,v]=(0,s.useState)(""),[k,j]=(0,s.useState)(!0),[N,I]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),[D,T]=(0,s.useState)([]),[P,U]=(0,s.useState)(null),[_,E]=(0,s.useState)({likes:Math.floor(50*Math.random())+10,comments:0,shares:Math.floor(10*Math.random())+5}),[A,O]=(0,s.useState)(!1),[F,L]=(0,s.useState)(null),[R,z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t||e||d.push("/login")},[e,t,d]);let q=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),M="".concat(q(g)," - Social Post Task"),B=async()=>{try{let e=(0,c.c4)();if(!e)return console.error("No authentication token found"),null;console.log("Creating post task for topic: ".concat(g,", level: ").concat(x));let t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({TopicName:g,Level:x,TaskType:"post"})});if(!t.ok){let e=await t.json();return console.error("Failed to create post task:",e),null}let o=await t.json();return console.log("Post task created successfully:",o),o.TaskId}catch(e){return console.error("Error creating post task:",e),null}},J=e=>i(e).slice(0,5),Y=async e=>{try{console.log("Attempting to generate post content via API");let t=await fetch("/api/create-post/".concat(encodeURIComponent(g)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({level:x})});if(!t.ok)return console.error("Failed to generate post: ".concat(t.status)),null;{let e=await t.json();return console.log("Successfully generated post content"),{text:e.text||"",requiredWords:e.requiredWords||[]}}}catch(e){return console.error("Error generating post:",e),null}};(0,s.useEffect)(()=>{(async()=>{if(!e||!g)return;let t=(0,c.c4)();if(!t){S("Authentication required"),d.push("/login");return}try{j(!0),S(null),console.log("Loading post for topic: ".concat(g));let e=y;if(!e&&(console.log("No taskId provided, creating new post task"),!(e=await B())))throw Error("Failed to create task");let o=null,a=null;try{console.log("Checking for existing post with taskId: ".concat(e));let s=await fetch("/api/posts/".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});if(s.ok){let e=await s.json();Array.isArray(e)&&e.length>0?(a=(o=e[0]).PostID,console.log("Found existing post with ID: ".concat(a))):console.log("No existing post found for this task")}else console.warn("Failed to check for existing post: ".concat(s.status))}catch(e){console.error("Error checking for existing post:",e)}if(o&&o.PostContent){console.log("Using existing post content"),b(o.PostContent),o.Picture?L(o.Picture):W(g);try{let e=J(o.PostContent);e.length>=5?T(e.slice(0,5)):T(h(g))}catch(e){console.error("Error extracting words:",e),T(h(g))}a&&localStorage.setItem("post_id_".concat(e),a)}else try{let o=await Y(t);if(o&&o.text){console.log("Using generated post content"),b(o.text),T(o.requiredWords||h(g)),W(g);let a=crypto.randomUUID?crypto.randomUUID():"post_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9));localStorage.setItem("post_id_".concat(e),a),console.log("Generated post ID: ".concat(a," (saving to database)"));try{let s=await fetch("/api/posts/".concat(encodeURIComponent(e)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({PostID:a,PostContent:o.text,Picture:F})});if(s.ok){console.log("Post saved successfully to database");try{let t=await s.json();t.PostID&&(localStorage.setItem("post_id_".concat(e),t.PostID),console.log("Updated post ID to: ".concat(t.PostID)))}catch(e){console.error("Error parsing save response:",e)}}else console.error("Failed to save post: ".concat(s.status)),console.log("Retrying post save operation..."),setTimeout(async()=>{try{let s=await fetch("/api/posts/".concat(encodeURIComponent(e)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({PostID:a,PostContent:o.text,Picture:F})});s.ok?console.log("Post saved successfully on retry"):console.error("Retry failed to save post: ".concat(s.status))}catch(e){console.error("Error in save retry:",e)}},2e3)}catch(e){console.error("Error saving post to database:",e)}}else throw Error("Failed to generate post content")}catch(n){console.error("Error with post generation:",n),console.log("Using fallback post content");let o=q(g),a=u(o);b(a),T(h(g)),W(g);let s=crypto.randomUUID?crypto.randomUUID():"post_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9));localStorage.setItem("post_id_".concat(e),s),console.log("Generated fallback post ID: ".concat(s," (saving to database)"));try{let o=await fetch("/api/posts/".concat(encodeURIComponent(e)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({PostID:s,PostContent:a,Picture:F})});o.ok?console.log("Fallback post saved successfully to database"):console.error("Failed to save fallback post: ".concat(o.status))}catch(e){console.error("Error saving fallback post to database:",e)}}}catch(t){console.error("Error fetching/creating post:",t),S("Failed to load social post. Please try again later.");let e=u(q(g));if(b(e),T(h(g)),W(g),y){let t=crypto.randomUUID?crypto.randomUUID():"post_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9));localStorage.setItem("post_id_".concat(y),t);try{let o=(0,c.c4)();if(o){let a=await fetch("/api/posts/".concat(encodeURIComponent(y)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({PostID:t,PostContent:e,Picture:F})});a.ok?console.log("Emergency fallback post saved successfully to database"):console.error("Failed to save emergency fallback post: ".concat(a.status))}}catch(e){console.error("Error saving emergency fallback post to database:",e)}}}finally{j(!1)}})()},[e,g,y,x,d]),(0,s.useEffect)(()=>{y&&sessionStorage.setItem("task_start_".concat(y),Date.now().toString())},[y]);let W=e=>{let t=e.toLowerCase(),o="";o=t.includes("diplomacy")||t.includes("relation")?"https://cdn.pixabay.com/photo/2017/08/05/12/08/network-2583270_1280.jpg":t.includes("economy")||t.includes("entrepreneur")?"https://cdn.pixabay.com/photo/2017/09/07/08/54/money-2724241_1280.jpg":t.includes("innovation")||t.includes("technology")?"https://cdn.pixabay.com/photo/2016/11/19/14/00/code-1839406_1280.jpg":t.includes("history")||t.includes("heritage")?"https://cdn.pixabay.com/photo/2018/07/20/14/02/israel-3550699_1280.jpg":t.includes("holocaust")||t.includes("revival")?"https://cdn.pixabay.com/photo/2016/05/15/20/52/jerusalem-1394562_1280.jpg":t.includes("iron")||t.includes("sword")||t.includes("war")?"https://cdn.pixabay.com/photo/2016/06/13/07/59/soldier-1453836_1280.jpg":t.includes("society")||t.includes("culture")?"https://cdn.pixabay.com/photo/2020/01/10/11/36/jerusalem-4754666_1280.jpg":t.includes("environment")||t.includes("sustainability")?"https://cdn.pixabay.com/photo/2019/10/20/19/30/nature-4564618_1280.jpg":"https://cdn.pixabay.com/photo/2016/11/14/03/35/tel-aviv-1822624_1280.jpg",console.log('Selected image URL for topic "'.concat(e,'": ').concat(o)),L(o)},G=e=>e.split(/[.!?]+/).filter(e=>e.trim()).filter(e=>{let t=e.trim();return t.endsWith("?")||/\bwhat\b|\bwhy\b|\bhow\b|\bwhen\b|\bwhere\b|\bwhich\b|\bwho\b|\bcan you\b|\bdo you\b|\bwould you\b/i.test(t)}),H=e=>e.toLowerCase().replace(/\b(what|why|how|when|where|which|who|is|are|do|does|did|can|could|would|should|the|a|an)\b/g," ").split(/\s+/).filter(e=>e.length>3&&!/[.,?!;:]/.test(e)).map(e=>e.trim()),Z=e=>{var t;let o=0,a=e.split(/[.!?]+/).filter(e=>e.trim()),s=e.split(/\s+/).length;s>=50?o+=20:s>=30?o+=15:s>=20?o+=10:o+=5;let n=a.length>0?s/a.length:0;n>=8&&n<=15?o+=20:n>=5&&(o+=10);let r=a.length>0&&a[0].length>20;r&&(o+=5),a.length>1&&a[a.length-1].length>20&&(o+=5);let c=0,l=a.filter(e=>e.trim().length>0&&e.trim()[0]===e.trim()[0].toUpperCase()).length;a.length>0&&(c+=Math.round(l/a.length*20)),c+=Math.min(20,5*((null==(t=e.match(/[.!?][\s\n]+[A-Z]/g))?void 0:t.length)||0)),e.match(/[,.!?][a-zA-Z]/)||(c+=10);let i=0,d=D.map(t=>{let o=RegExp(t,"i").test(e),a="";if(o){let o=e.match(RegExp(".{0,30}".concat(t,".{0,30}"),"i"));a=o?"...".concat(o[0],"..."):"",e.toLowerCase().includes("".concat(t.toLowerCase()," is"))||e.toLowerCase().includes("the ".concat(t.toLowerCase()))?(i+=10,a+=" (Great context!)"):i+=5}return{word:t,used:o,context:a}}),u=0,h=G(f);if(h.length>0){let t=h.filter(t=>H(t).some(t=>e.toLowerCase().includes(t.toLowerCase()))),o=t.length/h.length*100;o>=90?u+=30:o>=70?u+=25:o>=50?u+=20:o>=30?u+=15:o>0&&(u+=10),t.some(t=>H(t).some(t=>{let o=e.toLowerCase().indexOf(t.toLowerCase());return o>=0&&e.slice(o+t.length).length>50}))?u+=20:t.length>0&&(u+=10)}else{let t=D.concat(q(g).toLowerCase().split(" ")),o=t.filter(t=>e.toLowerCase().includes(t.toLowerCase())).length/t.length*100;o>=70?u+=40:o>=50?u+=30:o>=30?u+=20:o>0&&(u+=10),a.filter(e=>t.some(t=>e.toLowerCase().includes(t.toLowerCase()))).length>=3&&(u+=10)}let p=Math.min(200,o+c+i+u);return{score:p,clarityFeedback:o>=40?"Excellent! Your message is clear and well-structured.":o>=25?"Good job on clarity, but try to improve your structure.":"Try to organize your ideas more clearly.",grammarFeedback:c>=40?"Your grammar is excellent!":c>=25?"Your grammar is good, with a few minor issues.":"Pay more attention to grammar and punctuation.",vocabularyFeedback:i>=40?"Excellent use of the required vocabulary!":i>=25?"Good use of vocabulary, but try to use more words in context.":"Try to incorporate more of the required words.",contentRelevanceFeedback:u>=50?"Excellent! Your response directly addresses the questions asked in the post with thoughtful elaboration.":u>=40?"Good job! Your response addresses most of the questions, but could use more detailed elaboration.":u>=30?"Your response touches on the questions, but could be more directly focused on answering them.":u>=20?"Try to more directly address the specific questions asked in the post.":"Your response doesn't seem to address the questions in the post. Make sure to answer what was asked.",wordUsage:d,overallFeedback:p>=190?"Outstanding work! Your response is thoughtful, relevant, and well-crafted.":p>=150?"Great job! Your response shows good understanding and addresses the topic well.":p>=100?"Good effort! Your response is on topic but could be improved with more direct answers.":"Keep practicing! Focus on directly answering the questions in the post."}},K=async()=>{if(w.trim()){I(!0),S(null);try{console.log("Submitting user comment and updating task...");let o=Z(w),a=(0,c.c4)();if(!a)throw Error("Authentication token not found");try{var e,t;let s=0,n=Date.now()-((null==(t=window.performance)||null==(e=t.timing)?void 0:e.navigationStart)||Date.now()-3e5);s=Math.floor(n/1e3);let r=sessionStorage.getItem("task_start_".concat(y));r&&(s=Math.floor((Date.now()-parseInt(r))/1e3)),console.log("Task duration: ".concat(s," seconds"));let c=y;if(!c){console.warn("No taskId found, creating a new task");try{let e=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({TopicName:g||"general",Level:x||"1",TaskType:"post",StartDate:new Date(Date.now()-1e3*s).toISOString()})});if(e.ok){let t=await e.json();t.TaskId?(c=t.TaskId,console.log("Created new task with ID: ".concat(c))):(c=crypto.randomUUID?crypto.randomUUID():"task_".concat(Date.now()),console.warn("Response did not include TaskId, using generated ID: ".concat(c)))}else c=crypto.randomUUID?crypto.randomUUID():"task_".concat(Date.now()),console.error("Failed to create task, using local ID: ".concat(c))}catch(e){c=crypto.randomUUID?crypto.randomUUID():"task_".concat(Date.now()),console.error("Error creating task:",e),console.error("Using local task ID: ".concat(c))}}console.log("Using task ID: ".concat(c)),console.log("Creating new post for this task...");let l=crypto.randomUUID?crypto.randomUUID():"post_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9)),i=l;try{let e=await fetch("/api/posts/".concat(encodeURIComponent(c||"")),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({PostID:l,TaskId:c,PostContent:f||"Default post content",Picture:F})});if(e.ok)try{let t=await e.json();t.PostID&&(i=t.PostID),console.log("Post created with ID: ".concat(i))}catch(e){console.error("Error parsing create post response:",e)}else console.error("Failed to create post via API")}catch(e){console.error("Error creating post:",e)}console.log("Saving comment for post ID: ".concat(i));let d=crypto.randomUUID?crypto.randomUUID():"comment_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9));try{(await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({CommentID:d,PostID:i,commentContent:w,Feedback:JSON.stringify(o),TaskId:c})})).ok?console.log("Comment saved successfully via API"):console.error("Failed to save comment via API, proceeding anyway")}catch(e){console.error("Error saving comment:",e)}console.log("Updating task status using multiple approaches...");let u=[];u.push(fetch("/api/tasks/".concat(c),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({TaskScore:o.score,DurationTask:s,CompletionDate:new Date().toISOString()})}).then(e=>!!e.ok&&(console.log("Task updated successfully via PATCH to /api/tasks/[taskId]"),!0)).catch(e=>(console.error("Error updating task via PATCH to /api/tasks/[taskId]:",e),!1))),u.push(fetch("/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({taskId:c,TaskScore:o.score,DurationTask:s,CompletionDate:new Date().toISOString()})}).then(e=>!!e.ok&&(console.log("Task updated successfully via PUT to /api/tasks"),!0)).catch(e=>(console.error("Error updating task via PUT to /api/tasks:",e),!1))),u.push(fetch("/api/tasks/".concat(c,"/duration"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({duration:s})}).then(e=>!!e.ok&&(console.log("Task duration updated successfully via PATCH to /api/tasks/[taskId]/duration"),!0)).catch(e=>(console.error("Error updating task duration:",e),!1))),(await Promise.allSettled(u)).some(e=>"fulfilled"===e.status&&!0===e.value)?console.log("Task update succeeded through at least one method"):console.error("All task update attempts failed"),U(o),E(e=>({...e,comments:e.comments+1})),console.log("Comment submission complete!")}catch(e){console.error("API error:",e),U(o),E(e=>({...e,comments:e.comments+1})),S("יש בעיה בשמירת התגובה, אך באפשרותך להמשיך בתהליך הלמידה")}}catch(e){console.error("Error in handleSubmitComment:",e),U(Z(w)),E(e=>({...e,comments:e.comments+1})),S("אירעה שגיאה בעת שליחת התגובה, אך הערכת התוכן בוצעה בהצלחה")}finally{I(!1)}}},Q=async()=>{if(y)try{sessionStorage.setItem("post_task_".concat(g,"_").concat(x),y);let e=localStorage.getItem("post_id_".concat(y)),t=(0,c.c4)();if(t)try{console.log("Creating conversation task");let o=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({TopicName:g,Level:x,TaskType:"conversation",StartDate:new Date().toISOString()})});if(o.ok){let t=(await o.json()).TaskId;console.log("Conversation task created successfully with ID:",t),d.push("/topics/".concat(g,"/tasks/conversation?level=").concat(x,"&taskId=").concat(t,"&postId=").concat(e||""));return}}catch(e){console.error("Error creating conversation task:",e)}}catch(e){console.error("Error in navigateToNextTask:",e)}d.push("/topics/".concat(g,"/tasks/conversation?level=").concat(x))};return((0,s.useEffect)(()=>{y&&sessionStorage.setItem("task_start_".concat(y),Date.now().toString())},[y]),t||k)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,a.jsx)("p",{className:"text-xl font-medium text-gray-700",children:"Loading post..."})]})}):C?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-xl text-center",children:[(0,a.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"❌"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:C}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading the post. Let's try a different approach."}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all duration-300",children:"Try Again"}),(0,a.jsx)("button",{onClick:()=>{S(null),b(u(q(g))),T(h(g)),W(g)},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-300",children:"Continue with Example Post"})]})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 relative",dir:"ltr",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6 mt-2",children:M}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto mt-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-xl",children:"\uD83D\uDC64"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Israel Expert"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"2 hours ago • \uD83C\uDF0D"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[(0,a.jsx)("div",{className:"prose text-gray-800 md:w-3/5",children:(0,a.jsx)("p",{className:"whitespace-pre-line",children:f})}),(0,a.jsx)("div",{className:"md:w-2/5",children:F&&(0,a.jsx)("img",{src:F,alt:"Post Image",className:"w-full rounded-lg object-cover h-64",onError:e=>{e.currentTarget.src="https://placehold.co/800x600?text=Israeli+Culture"}})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-12 text-gray-600",children:[(0,a.jsxs)("button",{onClick:()=>{O(!A),E(e=>({...e,likes:e.likes+(A?-1:1)}))},className:"flex items-center space-x-2 hover:text-red-500 transition-colors",children:[(0,a.jsx)(r.Mbv,{style:{color:A?"#ef4444":"inherit"}}),(0,a.jsx)("span",{className:"ml-2",children:_.likes})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.j1Q,{}),(0,a.jsx)("span",{className:"ml-2",children:_.comments})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 hover:text-blue-500 transition-colors",children:[(0,a.jsx)(r.Zzu,{}),(0,a.jsx)("span",{className:"ml-2",children:_.shares})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(r.__w,{className:"text-orange-500 mr-3 text-xl"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Required Words:"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:D.map(e=>(0,a.jsx)("span",{className:"px-6 py-3 bg-orange-500 text-white rounded-full text-base font-medium shadow-sm",children:e},e))})]}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:P?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Response:"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:w})]}),(0,a.jsxs)("div",{className:"bg-orange-50 p-6 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Feedback:"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[P.score,"/200 points"]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-700",children:"Content relevance:"}),(0,a.jsx)("p",{className:"text-gray-600",children:P.contentRelevanceFeedback})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-700",children:"Clarity of message:"}),(0,a.jsx)("p",{className:"text-gray-600",children:P.clarityFeedback})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-700",children:"Grammatical accuracy:"}),(0,a.jsx)("p",{className:"text-gray-600",children:P.grammarFeedback})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-700",children:"Use of required words:"}),(0,a.jsx)("p",{className:"text-gray-600",children:P.vocabularyFeedback}),(0,a.jsx)("ul",{className:"mt-2 space-y-2",children:P.wordUsage.map(e=>{let{word:t,used:o,context:s}=e;return(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2 ".concat(o?"text-green-500":"text-red-500"),children:o?"✓":"✗"}),(0,a.jsxs)("span",{className:"font-medium",children:[t,":"]}),(0,a.jsx)("span",{className:"ml-2 text-gray-500",children:o?s:"Not found in your response"})]},t)})})]})]}),(0,a.jsx)("div",{className:"text-center p-4 bg-white rounded-lg",children:(0,a.jsx)("p",{className:"text-xl font-bold text-orange-600",children:P.overallFeedback})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:Q,className:"px-8 py-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 transform hover:-translate-y-1 shadow-md hover:shadow-lg text-lg",children:"Continue to Interactive Conversation \uD83C\uDF99️"})})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Write a response to this post:"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Use the required words in your response. We'll provide feedback on your comment."}),(0,a.jsx)("textarea",{value:w,onChange:e=>v(e.target.value),placeholder:"Write your response about ".concat(q(g)," using the required words..."),className:"w-full p-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 min-h-32 text-gray-900 mb-4",rows:6}),(0,a.jsx)("button",{onClick:K,disabled:N||!w.trim(),className:"w-full bg-orange-500 text-white py-3 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Submitting...":"Submit Response"})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[473,845,47,821,587,315,358],()=>t(803)),_N_E=e.O()}]);